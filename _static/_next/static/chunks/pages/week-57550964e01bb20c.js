(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{1968:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/week",function(){return r(45275)}])},63020:function(e,t){"use strict";t.Z=function(e){return e.reduce((function(e,t){return Object.assign(e,{legumes:e.legumes||t.legumes,fruitsNuts:e.fruitsNuts||t.fruitsNuts,healthyFats:e.healthyFats||t.healthyFats,dairy:e.dairy||t.dairy,meat:e.meat||t.meat,wholeGrains:e.wholeGrains||t.wholeGrains,vegetables:e.vegetables||t.vegetables,alcohol:e.alcohol||t.alcohol,fishSeafood:e.fishSeafood||t.fishSeafood})}),{})}},45275:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return K},default:function(){return L}});var n=r(85893),a=r(23544),s=r(2734),i=r(98396),u=r(99226),o=r(15861),c=r(584),l=r(67090),d=r(74201),f=r(29009),h=r(98687),m=r(14195),g=r(3023),x=r(75358),w=r(14888),y=r(44141),j=r(41544),v=r(4545),p=r(25048),Z=r(83725),D=r(10041),b=r(23170),_=r(88865),k=r(97439),A=r(49352),S=r(54313),O=r(90811),P=r(63020),T=["Sun","Mon","Tues","Weds","Thurs","Fri","Sat"],N=function(e,t){return"object"===typeof e?e.sugar+t.sugar:e+t.sugar},I=function(e){var t=e.meals,r=(0,s.Z)(),a=t.filter((function(e){return(0,Z.Z)(new Date(e.createdAt),new Date)})),i=T.map((function(e){switch(e){case"Sun":var t=a.filter((function(e){return(0,D.Z)(new Date(e.createdAt))})),r=(0,P.Z)(t);return{name:"Sun",sugar:t.reduce(N,0),medPts:Object.values(r).filter((function(e){return!0===e})).length};case"Mon":var n=a.filter((function(e){return(0,b.Z)(new Date(e.createdAt))})),s=(0,P.Z)(n);return{name:"Mon",sugar:n.reduce(N,0),medPts:Object.values(s).filter((function(e){return!0===e})).length};case"Tues":var i=a.filter((function(e){return(0,_.Z)(new Date(e.createdAt))})),u=(0,P.Z)(i);return{name:"Tues",sugar:i.reduce(N,0),medPts:Object.values(u).filter((function(e){return e})).length};case"Weds":var o=a.filter((function(e){return(0,k.Z)(new Date(e.createdAt))})),c=(0,P.Z)(o);return{name:"Weds",sugar:o.reduce(N,0),medPts:Object.values(c).filter((function(e){return e})).length};case"Thurs":var l=a.filter((function(e){return(0,A.Z)(new Date(e.createdAt))})),d=(0,P.Z)(l);return{name:"Thurs",sugar:l.reduce(N,0),medPts:Object.values(d).filter((function(e){return!0===e})).length};case"Fri":var f=a.filter((function(e){return(0,S.Z)(new Date(e.createdAt))})),h=(0,P.Z)(f);return{name:"Fri",sugar:f.reduce(N,0),medPts:Object.values(h).filter((function(e){return!0===e})).length};case"Sat":var m=a.filter((function(e){return(0,O.Z)(new Date(e.createdAt))})),g=(0,P.Z)(m);return{name:"Sat",sugar:m.reduce(N,0),medPts:Object.values(g).filter((function(e){return!0===e})).length}}}));return(0,n.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:(0,n.jsx)(f.h,{width:"100%",height:500,children:(0,n.jsxs)(h.w,{width:"100%",height:300,data:i,margin:{top:5,right:30,left:20,bottom:5},children:[(0,n.jsx)(m.q,{width:"100%",strokeDasharray:"3 3"}),(0,n.jsx)(g.K,{dataKey:"name"}),(0,n.jsx)(x.B,{yAxisId:"left"}),(0,n.jsx)(x.B,{yAxisId:"right",orientation:"right"}),(0,n.jsx)(w.u,{}),(0,n.jsx)(y.D,{}),(0,n.jsx)(j.x,{yAxisId:"left",type:"monotone",dataKey:"sugar",stroke:"#8884d8"}),(0,n.jsx)(j.x,{yAxisId:"right",type:"monotone",dataKey:"medPts",stroke:"#82ca9d"}),(0,n.jsx)(v.d,{y:30,yAxisId:"left",stroke:"#00f8c8",ifOverflow:"extendDomain",strokeWidth:2,strokeDasharray:"6 6",children:(0,n.jsx)(p._,{style:{fill:r.palette.primary.contrastText},position:"top",children:"Avg Sugar Goal (30 grams)"})}),(0,n.jsx)(v.d,{y:7,yAxisId:"right",stroke:"#ffbb28",ifOverflow:"extendDomain",strokeWidth:2,strokeDasharray:"6 6",children:(0,n.jsx)(p._,{style:{fill:r.palette.primary.contrastText},position:"top",children:"Med Points Goal"})})]})})})},E=r(88767),F=r(9669),W=r.n(F),G=function(e){var t=e.session,r=(0,s.Z)(),a=(0,i.Z)(r.breakpoints.down("md")),f=(0,E.useQuery)("meals",(function(){return W().get("/api/meals",{params:{periodStart:(0,c.Z)(new Date).getTime(),periodEnd:(0,l.Z)(new Date).getTime()}}).then((function(e){return e.data}))})).data;return t?(0,n.jsxs)(u.Z,{sx:{display:"flex",placeContent:"center",height:"100%",flexDirection:"column"},children:[(0,n.jsx)(u.Z,{my:a?2:5,children:(0,n.jsxs)(o.Z,{variant:"h4",align:"center",children:["Week of ",(0,d.Z)(new Date,"eeee, LLLL do")]})}),(0,n.jsx)(I,{meals:f})]}):null};G.auth=!0;var K=!0,L=(0,a.withSuperJSONPage)(G)}},function(e){e.O(0,[269,544,209,270,774,888,179],(function(){return t=1968,e(e.s=t);var t}));var t=e.O();_N_E=t}]);