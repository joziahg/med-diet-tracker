(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(96051)}])},63020:function(e,t){"use strict";t.Z=function(e){return e.reduce((function(e,t){return Object.assign(e,{legumes:e.legumes||t.legumes,fruitsNuts:e.fruitsNuts||t.fruitsNuts,healthyFats:e.healthyFats||t.healthyFats,dairy:e.dairy||t.dairy,meat:e.meat||t.meat,wholeGrains:e.wholeGrains||t.wholeGrains,vegetables:e.vegetables||t.vegetables,alcohol:e.alcohol||t.alcohol,fishSeafood:e.fishSeafood||t.fishSeafood})}),{})}},96051:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return k},default:function(){return M}});var n=i(85893),a=i(23544),s=i(2734),r=i(98396),l=i(99226),h=i(15861),o=i(69119),d=i(83894),c=i(74201),u=i(67294),x=i(29009),g=i(73604),w=i(46208),f=i(43815),m=i(34721),j=i(12979),v=i(37934),y=i(31321),Z=i(9266),p=i(72348),b=i(27416),F=i(62291),S=i(59942),z=i(19882),N=i(63020),R=i(18377),O=[{name:"legumes",value:1},{name:"fruitsNuts",value:1},{name:"healthyFats",value:1},{name:"dairy",value:1},{name:"meat",value:1},{name:"wholeGrains",value:1},{name:"vegetables",value:1},{name:"alcohol",value:1},{name:"fishSeafood",value:1}],_=["#0088FE","#00C49F","#FFBB28","#0088FE","#00C49F","#FFBB28","#0088FE","#00C49F","#FFBB28"],B=[{name:"Legumes",dataKey:"legumes"},{name:"Fruits & Nuts",dataKey:"fruitsNuts"},{name:"Vegetables",dataKey:"vegetables"},{name:"Alcohol",dataKey:"alcohol"},{name:"Meat less than 4oz",dataKey:"meat"},{name:"Dairy Less than 7oz",dataKey:"dairy"},{name:"Fish/Seafood",dataKey:"fishSeafood"},{name:"Healthy Fats",dataKey:"healthyFats"},{name:"Whole Grains",dataKey:"wholeGrains"}],L=Math.PI/180,K=function(e){var t=e.cx,i=e.cy,a=e.midAngle,s=e.innerRadius,r=e.outerRadius,l=(e.percent,e.index),h=s+.5*(r-s),o=t-14.8+h*Math.cos(-a*L),d=i-14.8+h*Math.sin(-a*L);switch(B[l].name){case"Fruits & Nuts":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Fruits & Nuts",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(m.Z,{fontSize:"large"})})})});case"Legumes":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Legumes",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(v.Z,{fontSize:"large"})})})});case"Whole Grains":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Whole Grains",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(y.Z,{fontSize:"large"})})})});case"Vegetables":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Vegetables",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(Z.Z,{fontSize:"large"})})})});case"Alcohol":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Alcoholic Beverage",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(p.Z,{fontSize:"large"})})})});case"Healthy Fats":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Healthy Fats",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(b.Z,{fontSize:"large"})})})});case"Dairy Less than 7oz":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Less than 7oz of Dairy",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(F.Z,{fontSize:"large"})})})});case"Meat less than 4oz":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Less than 4oz of Red Meat",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(j.Z,{fontSize:"large"})})})});case"Fish/Seafood":return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)(z.Z,{title:"Fish & Seafood",children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(S.Z,{fontSize:"large"})})})});default:return(0,n.jsx)("foreignObject",{x:o,y:d,width:35,height:35,children:(0,n.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",children:(0,n.jsx)(S.Z,{})})})}},E=function(e,t){return"object"===typeof e?e.sugar+t.sugar:e+t.sugar};function G(e){var t=e.meals,i=(0,s.Z)(),a=(0,r.Z)(i.breakpoints.down("md")),l=(0,u.useState)({legumes:!0,fruitsNuts:!1,healthyFats:!1,dairy:!0,meat:!1,wholeGrains:!0,vegetables:!1,alcohol:!1,fishSeafood:!1}),h=l[0],o=l[1];(0,u.useEffect)((function(){o((0,N.Z)(t))}),[t]);var d=a?{container:320,viewBox:160,innerRadius:80,outerRadius:140,circleRadius:30}:{container:400,viewBox:200,innerRadius:100,outerRadius:175,circleRadius:40};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.h,{width:"100%",height:d.container,children:(0,n.jsxs)(g.u,{children:[(0,n.jsx)("foreignObject",{width:"100%",height:"100%",children:(0,n.jsx)(R.Z,{sx:{display:"flex",justifyContent:"center",height:"100%"},children:(0,n.jsxs)("svg",{viewBox:"0 0 ".concat(d.viewBox," ").concat(d.viewBox),width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:d.innerRadius,cy:d.innerRadius,r:d.circleRadius,fill:"white"}),(0,n.jsxs)("text",{x:"50%",y:"45%",color:"white",fontSize:"0.75rem",dominantBaseline:"middle",textAnchor:"middle",style:{whiteSpace:"pre-line"},children:["".concat(t.reduce(E,0),"g\n"),"Sugar"]})]})})}),(0,n.jsx)(w.b,{isAnimationActive:!1,data:O,labelLine:!1,paddingAngle:3,label:K,outerRadius:d.outerRadius,innerRadius:d.innerRadius,fill:"#8884d8",dataKey:"value",children:B.map((function(e,t){var i=h[e.dataKey];return(0,n.jsx)(f.b,{fill:i?_[t%_.length]:"#666666"},"cell-".concat(t))}))})]})})})}var A=i(88767),C=i(9669),D=i.n(C),k=!0,M=(0,a.withSuperJSONPage)((function(e){var t,i=e.session,a=(0,s.Z)(),u=(0,r.Z)(a.breakpoints.down("md")),x=(0,A.useQuery)("meals",(function(){return D().get("/api/meals",{params:{periodStart:(0,o.Z)(new Date).getTime(),periodEnd:(0,d.Z)(new Date).getTime()}}).then((function(e){return e.data}))})).data;return(0,n.jsxs)(l.Z,{sx:{display:"flex",placeContent:"center",height:"100%",flexDirection:"column"},children:[(0,n.jsxs)(l.Z,{mt:u?2:5,children:[(0,n.jsxs)(h.Z,{variant:"h4",align:"center",children:["Welcome ",null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.name,"!"]}),(0,n.jsx)(h.Z,{variant:"h4",align:"center",children:(0,c.Z)(new Date,"eeee, LLLL do")})]}),(0,n.jsx)(G,{meals:x})]})}))}},function(e){e.O(0,[269,544,209,14,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);